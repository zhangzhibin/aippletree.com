{%- if project and project.data -%}
<div class="project-card">
    <a href="{{ project.url }}" class="project-thumbnail-link" {% if project.data.background_color %}style="background-color: {{ project.data.background_color }}"{% else %}style="background-color: #4a90e2"{% endif %}>
        {%- if project.data.thumbnail -%}
            <img src="{{ project.data.thumbnail }}" alt="{{ project.data.title }}">
        {%- else -%}
            <div class="project-thumbnail-placeholder">
                <h3>{{ project.data.title }}</h3>
            </div>
        {%- endif -%}
    </a>
    <div class="project-card-content">
        <h3 class="project-card-title">
            <a href="{{ project.url }}" class="project-card-title-link">{{ project.data.title }}</a>
        </h3>
        <p class="project-card-description">{{ project.data.description }}</p>
        <div class="project-card-tags">
            {%- if project.data.techStack -%}
                {%- for tag in project.data.techStack -%}
                    <span class="project-card-tag">{{ tag }}</span>
                {%- endfor -%}
            {%- endif -%}
        </div>
        <a href="{{ project.url }}" class="project-card-link">Learn More</a>
    </div>
</div>
{%- else -%}
<!-- Debug info for missing project data -->
<div class="project-card" style="border: 2px solid red;">
    <div class="project-card-content">
        <h3 class="project-card-title">Debug Info</h3>
        <p class="project-card-description">Project data is missing</p>
        <pre style="font-size: 12px;">{{ project | dump }}</pre>
    </div>
</div>
{%- endif -%}

{% if project.data.thumbnail %}
<div class="project-card-image">
    <img src="{{ project.data.thumbnail }}" alt="{{ project.data.title }}">
</div>
{% endif %}
<div class="project-card-content">
    <h2 class="project-card-title">
        <a href="{{ project.url }}">{{ project.data.title }}</a>
    </h2>
    {% if project.data.description %}
    <p class="project-card-description">{{ project.data.description }}</p>
    {% endif %}
    {% if project.data.ai_metadata %}
    {% set ai_metadata = project.data.ai_metadata %}
    {% include "components/ai-metadata.njk" %}
    {% endif %}
    <div class="project-card-meta">
        {% if project.data.techStack %}
        <div class="project-card-tech">
            {% for tech in project.data.techStack %}
            <span class="tech-tag">{{ tech }}</span>
            {% endfor %}
        </div>
        {% endif %}
        {% if project.data.tags %}
        <div class="project-card-tags">
            {% for tag in project.data.tags %}
            <span class="tag">{{ tag }}</span>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    <div class="project-card-actions">
        {% if project.data.demoUrl %}
        <a href="{{ project.data.demoUrl }}" class="project-card-button demo" target="_blank" rel="noopener noreferrer">View Demo</a>
        {% endif %}
        {% if project.data.githubUrl %}
        <a href="{{ project.data.githubUrl }}" class="project-card-button github" target="_blank" rel="noopener noreferrer">GitHub</a>
        {% endif %}
    </div>
</div> 