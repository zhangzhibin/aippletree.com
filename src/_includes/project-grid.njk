<section class="section">
    <div class="section-content">
        <h2 class="section-title">{{ section.title }}</h2>
        <!-- Debug info -->
        <div style="display: none;">
            <h4>Debug Info:</h4>
            <div>Section Limit: {{ section.limit }}</div>
            <div>Featured Projects Count: {{ collections.featured_projects | length }}</div>
            <div>Projects:</div>
            {%- for project in collections.featured_projects -%}
            <div style="margin-left: 20px;">
                - {{ project.data.title }} (featured: {{ project.data.featured }})
            </div>
            {%- endfor -%}
        </div>
        <!-- End debug info -->
        <div class="project-grid">{%- for project in collections.featured_projects -%}
            {%- if not section.limit or loop.index0 < section.limit -%}
                {%- include "project-card.njk" -%}
            {%- endif -%}
        {%- endfor -%}</div>
        {%- if section.viewAll -%}
        <div class="section-footer">
            <a href="{{ section.viewAll.url }}" class="view-all">{{ section.viewAll.text }}</a>
        </div>
        {%- endif -%}
    </div>
</section> 